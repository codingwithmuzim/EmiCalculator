<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emi_calculator</title>
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <script>
        function amountchange() {
            document.getElementById("textamount").value = document.getElementById("Amountrange").value;
        }
        function yearchange() {
            document.getElementById("textyear").value = document.getElementById("Yearrange").value;
        }
        function Interestchange() {
            document.getElementById("textinterest").value = document.getElementById("Interestrange").value;
        }
        function calculatorclick() {
            var P = document.getElementById("textamount").value;
            var R = document.getElementById("textinterest").value;
            var n = document.getElementById("textyear").value;
            var emi = [P / (n * 12) + (P * R) / (1200)];
            var interest = (P * R * n) / 100;
            var Total_amount = [(P / 100) * (R * n + 100)];
            document.getElementById("tpa").innerHTML = Math.round(Total_amount);
            document.getElementById("Interest").innerHTML = Math.round(interest);
            document.getElementById("emi").innerHTML = Math.round(emi);
        }
        /* P IS PRINCIPAL AMOUNT
         N IS THE NUMBER OF YEAR
         R IS RATE OF INTEREST 
         EMI=P*R*(1+R)**N / (1+R)**N-1
         NOW I CALCULATE ONLY INTEREST
         I=(P*R*N) / 100
         TOTAL PAYABLE AMOUNT =P+I==> P + {(P*R*N)/100} ==> {(P*R*N)+(P+100)} / 100 
         IF P common
         So TOTAL PAYABLE AMOUNT = [(P/100)*(R*n+100)]
         N IS NUMBER OF YEAR CONVERTED INTO NUMBER OF MONTH == N*12 (NUMBER OF MONTH)
         EMI==TOTAL PAYABLE AMOUNT DEVIDED BY  NUMBER OF MONTH
         SO EMI FORMULA IS 
         EMI=(P+I)/N*12 ==> (P/N*12)+(I/N*12)
         IF I==(P*R*N) / 100
         EMI ==(P/N*12)+(((P*R*N) / 100)/N*12)
         IF N/N 
         EMI ==(P/N*12)+(((P*R)/1200)*/
    </script>
</head>

<body class="container-fluid">
    <h1 class="text-center bg-primary fs-1 mt-2 p-2 rounded text-white mb-4">Personal loan calculator</h1>
    <div class="row">
        <div class="col-sm-4 col-12 mt-4">
            <div class="input-group">
                <label for="textamount" class="input-group-text">
                    Amount you need:
                </label>
                <input type="text" id="textamount" placeholder="Minimum &#8377-1000" class="form-control" required>
            </div>
        </div>
        <div class="col-sm-4 col-12 mt-4">
            <div class="input-group">
                <label for="textyear" class="input-group-text">
                    For:
                </label>
                <input type="text" placeholder="Minimum 1 Year" id="textyear" class="form-control" required>
                <label for="" class="input-group-text">Year:</label>
            </div>
        </div>
        <div class="col-sm-4 col-12 mt-4">
            <div class="input-group">
                <label for="textinterest" class="input-group-text">
                    Interest rate:
                </label>
                <input type="text" placeholder="Minimum 2%" id="textinterest" class="form-control" required>
            </div>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-sm-4 col-12 mt-4">
            <div class="input-group">
                <label for="Amountrange" class="input-group-text">
                    500/-
                </label>
                <input type="range" class="form-range" id="Amountrange" min="500" max="550000" value="500"
                    onchange="amountchange()">
                <label for="" class="input-group-text">550000/-</label>

            </div>
        </div>
        <div class="col-sm-4 col-12 mt-4">
            <div class="input-group">
                <label for="Yearrange" class="input-group-text">
                    1
                </label>
                <input type="range" class="form-range" id="Yearrange" min="1" max="30" value="2"
                    onchange="yearchange()">
                <label for="" class="input-group-text">30</label>

            </div>
        </div>
        <div class="col-sm-4 col-12 mt-4">
            <div class="input-group">
                <label for="Interestrange" class="input-group-text">
                    2%
                </label>
                <input type="range" class="form-range" id="Interestrange" min="2" max="18" value="2"
                    onchange="Interestchange()" step="0.1">
                <label for="" class="input-group-text">18%</label>

            </div>
        </div>
    </div>

    <div class="row mt-2">
        <div class="col">
            <h2 class="text-center">Monthly Installement:</h2>
            <h2 class="text-center bg-primary mt-2 text-white rounded " id="emi"></h2>
        </div>
    </div>

    <div class="row mt-2">
        <div class="col">
            <h2 class="text-center">Total Payable Amount:</h2>
            <h2 class="text-center bg-primary mt-2 text-white  rounded " id="tpa"></h2>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col">
            <h2 class="text-center">Total Interest:</h2>
            <h2 class="text-center bg-primary mt-2 text-white  rounded " id="Interest"></h2>
        </div>
    </div>

    <div>
        <div class="text-center">
            <button class=" btn btn-outline-primary mt-4" onclick="calculatorclick()">Calculate</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
    <script src="node_modules/jquery/dist/jquery.js"></script>
</body>

</html>